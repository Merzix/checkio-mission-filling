<!-- Describe task in general -->
<p>
	This mission is an adaptation of the "Filling" game (from
	<a href="https://www.chiark.greenend.org.uk/~sgtatham/puzzles/">
	Simon Tatham's Portable Puzzle Collection</a>).
	If you are lost or just want to play, the game is available
	<a href="https://www.chiark.greenend.org.uk/~sgtatham/puzzles/js/filling.html">here</a>.
</p>

<p>
	You have a rectangular grid with digits. You have to fill the grid with digits
	in such a way that each connected region (diagonally separated squares are not
	adjacent) of identical digits has an area equal to that common digit.
</p>

<p>
	To simplify the game a little, note that each region
	has at least one cell already given.
</p>

<p>
	Consequences:
	<ul>
		<li>Zero can't appear in a filled grid.
		That's why empty cells are represented by zeros.</li>
		<li>1s are necessarily alone and already given.</li>
	</ul>
</p>

<pre class="for_info_only" style="text-align:center">
<img src="{{MEDIA}}filling-example.png" alt="Filling 6x8 example image" title="6x8 example"/>

[[1, 0, 1, 0, 1, 4, 0, 0],       [[1, 3, 1, 3, 1, 4, 4, 4],
 [3, 0, 2, 3, 0, 0, 0, 4],        [3, 3, 2, 3, 3, 5, 5, 4],
 [0, 0, 0, 1, 0, 0, 5, 1],  ===\  [4, 4, 2, 1, 5, 5, 5, 1],
 [4, 0, 1, 3, 0, 1, 0, 0],  ===/  [4, 4, 1, 3, 3, 1, 8, 8],
 [5, 0, 0, 0, 0, 0, 0, 8],        [5, 5, 5, 2, 3, 8, 8, 8],
 [0, 0, 1, 2, 1, 0, 0, 0]]        [5, 5, 1, 2, 1, 8, 8, 8]]
</pre>


<!-- Explain input and output values -->
<p>
	<strong>Input:</strong>
	A list of lists of integers.
</p>

<p>
	<strong>Output:</strong>
	A list/tuple of lists/tuples of integers.
</p>


<!-- Put some usage examples -->
<div class="for_info_only">
<p>
	<strong>Example:</strong>
</p>

<pre class="brush: python">
checkio([[1, 0, 1, 0, 1, 4, 0, 0],
         [3, 0, 2, 3, 0, 0, 0, 4],
         [0, 0, 0, 1, 0, 0, 5, 1],
         [4, 0, 1, 3, 0, 1, 0, 0],
         [5, 0, 0, 0, 0, 0, 0, 8],
         [0, 0, 1, 2, 1, 0, 0, 0]]) == [[1, 3, 1, 3, 1, 4, 4, 4],
                                        [3, 3, 2, 3, 3, 5, 5, 4],
                                        [4, 4, 2, 1, 5, 5, 5, 1],
                                        [4, 4, 1, 3, 3, 1, 8, 8],
                                        [5, 5, 5, 2, 3, 8, 8, 8],
                                        [5, 5, 1, 2, 1, 8, 8, 8]]
</pre>
</div>

<p>
	<strong>Preconditions:</strong>
	<ul>
		<li>Given puzzles are solvable.</li>
		<li>3 &le; len(grid) &le; 20 and 3 &le; len(grid[0]) &le; 20.</li>
		<li>all(len(row) == len(grid[0]) for row in grid).</li>
	</ul>
</p>
